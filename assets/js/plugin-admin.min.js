!function (t) {
    "use strict";
    jQuery(document).ready(function (t) {
        ! function () {
            if (t(".mrpacket #dataTable").length > 0) {
                var e = {
                    dom: "Blfrtip",
                    language: {
                        url: MRPacketForWooParamsAdmin.mrpacket_json_url
                    },
                    stateSave: !0,
                    columnDefs: [{
                        targets: 0,
                        data: null,
                        defaultContent: "",
                        orderable: !1,
                        className: "select-checkbox"
                    }],
                    select: {
                        style: "multiple",
                        selector: "tr"
                    },
                    lengthMenu: [
                        [10, 25, 50, -1],
                        [10, 25, 50, "Alle"]
                    ]
                };
                var o = t(".mrpacket #dataTable").DataTable(e);

                function n() {
                    var e = o.rows({
                        selected: true
                    }).indexes();
                    var n = o.cells(e, 5).data();
                    var a = [];

                    t.each(n, function (e, t) {
                        a[e] = t;
                    });

                    if (new Set(a).size > 1) {
                        t('.buttons button[type="button"]').prop("disabled", true);
                    } else {
                        t('.buttons button[type="button"]').prop("disabled", false);
                        t('.buttons button[type="button"]').hide();
                    }

                    if (a.length <= 0) {
                        t('.buttons button[type="button"]').hide();
                    } else {
                        t('.buttons button[type="button"]').show();
                    }

                    t('.buttons button[name="enable"], .buttons button[name="archive"], .buttons button[name="cancel"]').hide();

                    for (var r in a) {
                        if ("Canceled" === a[r] || "Abgebrochen" === a[r]) {
                            t('.buttons button[name="enable"]').show();
                            t('.buttons button[name="archive"]').show();
                        }

                        if ("Exported" === a[r] || "Exportiert" === a[r]) {
                            t('.buttons button[name="cancel"]').show();
                        }
                    }
                }

                o.order([
                    [3, "asc"]
                ]).draw();

                t(".selectAll").on("click", function (e) {
                    t(this).is(":checked") ? o.rows().select() : o.rows().deselect();
                    n();
                });

                o.on("select deselect", function (e, t, o, a) {
                    "row" === o && n();
                });

                t('button[name="cancel"]').on("click", function () {
                    var e = o.rows({
                        selected: true
                    }).data();

                    if (e.count()) {
                        var n = {};

                        t.each(e, function (e, t) {
                            n[e] = t;
                        });

                        t.ajax({
                            method: "POST",
                            url: MRPacketForWooParamsAdmin.mrpacket_ajax_url,
                            data: {
                                action: "cancel_partial",
                                parcialData: n
                            }
                        }).done(function (e) {
                            location.reload();
                        }).fail(function (e) {
                            console.log(e);
                            alert("Error: The requested operation could not be carried out. Please contact mrpacket support. " + e.responseText || e);
                        });
                    } else {
                        alert("Please select the entries to be deleted first!");
                    }
                });

                t('button[name="enable"]').on("click", function () {
                    var e = o.rows({
                        selected: true
                    }).data();

                    if (e.count()) {
                        var n = {};

                        t.each(e, function (e, t) {
                            n[e] = t;
                        });

                        t.ajax({
                            method: "POST",
                            url: MRPacketForWooParamsAdmin.mrpacket_ajax_url,
                            data: {
                                action: "reenable_partial",
                                parcialData: n
                            }
                        }).done(function (e) {
                            location.reload();
                        }).fail(function (e) {
                            console.log(e);
                            alert("Error: The requested operation could not be carried out. Please contact mrpacket support. " + e);
                        });
                    } else {
                        alert("Please select the entries to be updated first!");
                    }
                });

                t('button[name="archive"]').on("click", function () {
                    var e = o.rows({
                        selected: true
                    }).data();

                    if (e.count()) {
                        var n = {};

                        t.each(e, function (e, t) {
                            n[e] = t;
                        });

                        t.ajax({
                            method: "POST",
                            url: MRPacketForWooParamsAdmin.mrpacket_ajax_url,
                            data: {
                                action: "archive_partial",
                                parcialData: n
                            }
                        }).done(function (e) {
                            location.reload();
                        }).fail(function (e) {
                            console.log(e);
                            alert("Error: The requested operation could not be carried out. Please contact mrpacket support. " + e);
                        });
                    } else {
                        alert("Please select the entries to be archived first!");
                    }
                });
            }

            t(document).on("click", ".alert .close", function () {
                t(this).parent(".alert").hide();
            });
        }();

        t("html, body").bind("keypress", function (t) {
            if (13 == t.keyCode) {
                return t(".woocommerce-save-button").click(), !1;
            }
        });
    });
}();